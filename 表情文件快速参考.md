# ?? 表情文件快速参考

## ?? 表情位置

```
Textures/UI/Narrators/9x16/Expressions/{人格名称}/
```

---

## ?? 文件命名

### 基础表情模式

```
happy.png                       # 开心
happy1.png                      # ? 开心变体1（随机选择）
happy2.png                      # ? 开心变体2（随机选择）
sad.png                         # 悲伤
sad1.png                        # ? 悲伤变体1（可选）
angry.png                       # 愤怒
shy.png                         # ? 新增：害羞
shy1.png                        # ? 害羞变体1（可选）
```

### 面部覆盖模式（高级）

```
happy_face.png                  # 笑脸（透明背景）
sad_face.png                    # 哭脸（透明背景）
angry_face.png                  # 怒脸（透明背景）
```

**关键**：面部模式加 `_face` 后缀。

---

## ?? 支持的表情

| 文件名 | 名称 | 触发场景 | 变体支持 |
|-------|------|---------|---------|
| `happy.png` | 开心 | 积极事件 | ? 支持 |
| `sad.png` | 悲伤 | 损失/死亡 | ? 支持 |
| `angry.png` | 愤怒 | 袭击 | ? 支持 |
| `surprised.png` | 惊讶 | 意外 | ? 支持 |
| `worried.png` | 担忧 | 危险 | ? 支持 |
| `smug.png` | 得意 | 胜利 | ? 支持 |
| `disappointed.png` | 失望 | 失败 | ? 支持 |
| `thoughtful.png` | 沉思 | 思考 | ? 支持 |
| `annoyed.png` | 烦躁 | 打扰 | ? 支持 |
| `playful.png` | 调皮 | 玩笑 | ? 支持 |
| **`shy.png`** | **害羞** | **感谢/害羞/语气词** | **? 支持** |

---

## ? 表情变体系统

### 工作原理

当切换到某个表情时，**系统自动随机选择**一个变体：

```
切换到"开心"表情
    ↓
查找: happy.png, happy1.png, happy2.png, happy3.png...
    ↓
随机选择一个存在的文件
    ↓
显示选中的变体
```

### 支持的变体数量

- **最多 5 个变体**：基础 + 变体1~5
- **变体可选**：不是所有表情都需要变体
- **随机触发**：每次切换表情时重新随机

### 示例

```
happy.png     → 微笑
happy1.png    → 眯眼笑
happy2.png    → 大笑
happy3.png    → 捂嘴笑
```

**效果**：每次显示开心表情时，从这4个中随机选一个！

---

## ?? 图片要求

### 完整立绘模式

```
尺寸：1080x1920（9:16 比例）
格式：PNG
背景：可不透明
```

### 面部覆盖模式

```
尺寸：根据面部区域
格式：PNG (必须透明)
背景：面部区域透明
内容：只包含面部
```

---

## ? 检查清单

### 完整立绘（推荐）

- [ ] 文件名全小写
- [ ] 尺寸 1080x1920
- [ ] PNG 格式
- [ ] 每个表情一张完整立绘
- [ ] 可选：添加 1-5 个变体

### 面部覆盖（高级）

- [ ] 文件名加 `_face` 后缀
- [ ] PNG 透明背景
- [ ] 面部区域准确

---

## ?? 快速开始

```
1. 准备基础立绘 base.png (1080x1920)
2. 绘制 happy.png（开心表情）
3. 可选：绘制 happy1.png（开心变体1）
4. 可选：绘制 happy2.png（开心变体2）
5. 绘制 sad.png（悲伤表情）
6. ? 绘制 shy.png（害羞表情）
7. 放入：Textures/UI/Narrators/9x16/Expressions/Sideria/
8. 重启游戏测试
```

---

## ?? 常见错误

### ? 错误命名

```
Sideria-happy.png      # 不要用 -
sideria_happy.png      # 人名首字母大写
Sideria_Happy.png      # 表情名小写
Sideria happy.png      # 不要空格
Sideria_happy1.PNG     # 扩展名小写
```

### ? 正确命名

```
happy.png
happy1.png
happy2.png
sad.png
shy.png
```

---

## ?? 对比

| 特性 | 完整立绘 | 面部覆盖 |
|-----|---------|---------|
| **难度** | 低 | 中等 |
| **文件大小** | 大 | 小 |
| **透明要求** | 非透明OK | 必须透明 |
| **推荐场景** | 通用 | 高级用户 |
| **变体支持** | ? 支持 | ? 支持 |

---

## ?? 新增：害羞表情

### 触发条件

- 对话包含：**害羞、不好意思、脸红、感谢、谢谢**
- 对话包含：**那个、嗯嗯、唔、诶**（语气词）
- 好感度变化

### TTS 效果

- **情感风格**：gentle（温柔）
- **强度**：0.8（轻柔）

### 文件示例

```
shy.png          → 基础害羞表情
shy1.png         → 害羞变体1（可选）
shy2.png         → 害羞变体2（可选）
```

---

**详细说明**：查看 `Textures/UI/Narrators/9x16/Expressions/Sideria/README.md`

**完整指南**：查看项目目录下 `立绘动态表情系统-完整指南.md`
