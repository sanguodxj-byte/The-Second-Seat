# ?? AI 叙事者屏幕按钮 - 界面位置图

## ?? 完整游戏界面布局

```
┌──────────────────────────────────────────────────────────────────────────────┐
│  RimWorld - The Second Seat                                [AI ??]  [_][□][X] │ ← 按钮在这里（右上角）
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│  [地图视图区域]                                                                │
│                                                                                │
│                                                                                │
│                     游戏主视图（地图、殖民者、建筑等）                           │
│                                                                                │
│                                                                                │
│                                                                                │
│                                                                     ┌────────┐ │
│                                                                     │ 消息   │ │
│                                                                     │ 面板   │ │
│                                                                     │ ......│ │
│                                                                     └────────┘ │
│                                                                                │
├────────────────────────────────────────────────────────────────────────────────┤
│ [建筑] [工作] [限制] [分配] [动物] [历史] [研究] [世界] [菜单] [历史]        │ ← 底部菜单栏
└──────────────────────────────────────────────────────────────────────────────┘
```

---

## ?? 按钮精确位置（右上角）

### 坐标描述
```
屏幕坐标系：
    0,0 ┌────────────────────────────────[AI]─┐ ← 按钮在这里
        │                                    │
        │                                    │
        │                                    │
        │                                    │
        │                                    │
        │                                    │
        │                                    │
        │                                    │
        │                                    │
        └────────────────────────────────────┘
                            screenWidth, screenHeight
```

### 计算公式
```
X 坐标 = 屏幕宽度 - 按钮宽度 - 右边距
Y 坐标 = 上边距

具体数值：
X = Verse.UI.screenWidth - 48px - 10px
Y = 10px

示例（1920x1080 屏幕）：
X = 1920 - 48 - 10 = 1862px
Y = 10px
```

---

## ?? 与其他 UI 元素的相对位置

### 垂直关系
```
┌────────────────────────────┐
│    [AI 按钮] ────────────? │  ← 10px (顶部)
│                            │
│                            │
│      游戏主视图              │
│                            │
│                            │
│                            │
│    [消息面板] ────────────? │  ← 约 screenHeight - 200px
│                            │
│                            │
├────────────────────────────┤
│  [底部菜单栏]               │  ← screenHeight - 35px
└────────────────────────────┘  ← screenHeight (底部)
```

### 水平关系
```
┌──────────────────────────────────────────────────────────────┐
│                                                      [AI]     │ ← 按钮
│  地图                                                         │
│  视图                                                         │
│  区域                                                         │
│                                                      [消息]   │
│                                                      [消息]   │
│                                                               │
└──────────────────────────────────────────────────────────────┘
   ↑                                                        ↑
   0px                                          screenWidth - 58px
```

---

## ?? 详细尺寸标注

### 按钮本身
```
     ←── 10px ──→  ┌──────────┐
                   │          │
                   │  AI ??   │  ← 48x48 像素
                   │          │
                   └──────────┘
屏幕顶部 ───────────────────────
     ↑
     10px
     ↓
```

### 边距设置
```
屏幕边缘
│
│  ←── 10px ──→  ┌──────────┐
│                │          │
│                │  AI 按钮  │  ← 48x48 像素
│                │          │
│                └──────────┘
│  ←── 10px ──→  
│
```

---

## ??? 交互区域

### 点击热区
```
┌────────────────────────────┐
│  屏幕右上角：                │
│  ┌────────────────┐         │
│  │ XTTTTTTTTTTTT[ │         │
│  │ U  AI 叙事者  U │ ← 高亮边框  │
│  │ U    48x48   U │         │
│  │ ^TTTTTTTTTTTTa │         │
│  └────────────────┘         │
│                            │
│  工具提示：                  │
│  ┌──────────────────────┐   │
│  │ 打开 AI 叙事者窗口     │   │
│  │ 点击与 AI 叙事者对话   │   │
│  └──────────────────────┘   │
│                            │
└────────────────────────────┘
```

---

## ?? 不同分辨率下的位置

### 1920x1080 (Full HD)
```
屏幕尺寸: 1920 x 1080
按钮位置: (1862, 10)

┌──────────────────────────────────[AI]┐ 1862,10
│                                      │
│                                      │
│                                      │
│                                      │
│                                      │
│                                      │
│                                      │
└──────────────────────────────────────┘ 1920,1080
```

### 1366x768 (HD)
```
屏幕尺寸: 1366 x 768
按钮位置: (1308, 10)

┌──────────────────────────[AI]──┐ 1308,10
│                              │
│                              │
│                              │
│                              │
│                              │
└──────────────────────────────┘ 1366,768
```

### 2560x1440 (2K)
```
屏幕尺寸: 2560 x 1440
按钮位置: (2502, 10)

┌──────────────────────────────────────────[AI]┐ 2502,10
│                                              │
│                                              │
│                                              │
│                                              │
│                                              │
│                                              │
│                                              │
└──────────────────────────────────────────────┘ 2560,1440
```

---

## ?? 位置对比表

| 元素 | X 坐标 | Y 坐标 | 宽度 | 高度 | 备注 |
|-----|--------|--------|------|------|------|
| **AI 按钮** | screenWidth - 58 | 10 | 48 | 48 | **右上角** |
| 消息面板 | screenWidth - 300 | 100 | 290 | 变动 | 右上角偏下 |
| 底部菜单 | 0 | screenHeight - 35 | screenWidth | 35 | 底部 |
| 顶部信息 | 0 | 0 | screenWidth | 30 | 顶部 |

---

## ?? 最终定位代码映射

```csharp
// 从代码文件：NarratorScreenButton.cs

protected override void SetInitialSizeAndPosition()
{
    // 计算位置 - 右上角
    float x = Verse.UI.screenWidth - ButtonSize - MarginFromEdge;
    //        └─────────────────┘   └────────┘   └────────────┘
    //         屏幕宽度               按钮宽度48      右边距10
    
    float y = MarginFromEdge; // 距离顶部边距10px
    //        └────────────┘
    //         上边距10
    
    this.windowRect = new Rect(x, y, ButtonSize, ButtonSize);
    //                          └──┘ └──┘ └────────────────┘
    //                          位置坐标     48x48 尺寸
}
```

---

## ?? 实际游戏截图标注（文字版）

```
TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
                RimWorld - The Second Seat           [AI ??]    ← 这里
TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

[殖民地视图]                                        ┌───────────┐
                                                   │ 日期: 5月  │
                                                   │ 天气: 晴   │
[建筑物]     [殖民者]     [动物]                    └───────────┘

                                                   ┌───────────┐
                                                   │ 消息：    │
                                                   │ ・ 收获完成│
                                                   │ ・ 敌人来袭│
                                                   └───────────┘


────────────────────────────────────────────────────────────────
[建筑] [工作] [限制] [分配] [动物] [历史] [研究] [世界] [菜单]
TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
```

---

## ? 位置验证清单

- [x] 右上角位置（不遮挡主要游戏区域）
- [x] 不与顶部信息栏重叠
- [x] 不遮挡消息面板（消息面板在下方）
- [x] 固定位置（不随地图移动）
- [x] 始终可见（除非手动关闭）
- [x] 易于点击（48x48 足够大）
- [x] 边距合理（10px 不会太贴边）
- [x] 不影响窗口关闭按钮

---

**创建时间**：2025-01-XX  
**适用版本**：The Second Seat v1.0+  
**按钮位置**：**屏幕右上角**

?? **按钮永远在屏幕右上角等你点击！** ??
