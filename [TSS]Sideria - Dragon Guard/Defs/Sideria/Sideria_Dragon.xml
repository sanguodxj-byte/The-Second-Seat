<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <!-- ============================================== -->
  <!-- Sideria 灵界巨龙定义 -->
  <!-- ============================================== -->

  <!-- ============================================== -->
  <!-- 龙身体定义 -->
  <!-- ============================================== -->
  <BodyDef>
    <defName>Sideria_DragonBody</defName>
    <label>spirit dragon body</label>
    <corePart>
      <def>Torso</def>
      <height>Middle</height>
      <depth>Outside</depth>
      <groups>
        <li>Torso</li>
      </groups>
      <parts>
        <li>
          <def>Heart</def>
          <coverage>0.020</coverage>
          <depth>Inside</depth>
          <groups>
            <li>Torso</li>
          </groups>
        </li>
        <li>
          <def>Lung</def>
          <coverage>0.060</coverage>
          <depth>Inside</depth>
          <customLabel>left lung</customLabel>
          <groups>
            <li>Torso</li>
          </groups>
        </li>
        <li>
          <def>Lung</def>
          <coverage>0.060</coverage>
          <depth>Inside</depth>
          <customLabel>right lung</customLabel>
          <groups>
            <li>Torso</li>
          </groups>
        </li>
        <li>
          <def>Liver</def>
          <coverage>0.030</coverage>
          <depth>Inside</depth>
          <groups>
            <li>Torso</li>
          </groups>
        </li>
        <li>
          <def>Stomach</def>
          <coverage>0.030</coverage>
          <depth>Inside</depth>
          <groups>
            <li>Torso</li>
          </groups>
        </li>
        <li>
          <def>Spine</def>
          <coverage>0.025</coverage>
          <depth>Inside</depth>
          <groups>
            <li>Torso</li>
          </groups>
        </li>
        <li>
          <def>Neck</def>
          <height>Top</height>
          <coverage>0.10</coverage>
          <groups>
            <li>Neck</li>
          </groups>
          <parts>
            <li>
              <def>Head</def>
              <height>Top</height>
              <coverage>0.75</coverage>
              <groups>
                <li>FullHead</li>
                <li>UpperHead</li>
              </groups>
              <parts>
                <li>
                  <def>Skull</def>
                  <coverage>0.25</coverage>
                  <groups>
                    <li>FullHead</li>
                    <li>UpperHead</li>
                  </groups>
                  <parts>
                    <li>
                      <def>Brain</def>
                      <coverage>0.50</coverage>
                      <depth>Inside</depth>
                      <groups>
                        <li>FullHead</li>
                        <li>UpperHead</li>
                      </groups>
                    </li>
                  </parts>
                </li>
                <li>
                  <def>Eye</def>
                  <coverage>0.05</coverage>
                  <customLabel>left eye</customLabel>
                  <groups>
                    <li>FullHead</li>
                    <li>Eyes</li>
                  </groups>
                </li>
                <li>
                  <def>Eye</def>
                  <coverage>0.05</coverage>
                  <customLabel>right eye</customLabel>
                  <groups>
                    <li>FullHead</li>
                    <li>Eyes</li>
                  </groups>
                </li>
                <li>
                  <def>Jaw</def>
                  <coverage>0.15</coverage>
                  <groups>
                    <li>FullHead</li>
                    <li>Teeth</li>
                  </groups>
                </li>
              </parts>
            </li>
          </parts>
        </li>
        <li>
          <def>Leg</def>
          <customLabel>front left leg</customLabel>
          <coverage>0.08</coverage>
          <groups>
            <li>Legs</li>
          </groups>
        </li>
        <li>
          <def>Leg</def>
          <customLabel>front right leg</customLabel>
          <coverage>0.08</coverage>
          <groups>
            <li>Legs</li>
          </groups>
        </li>
        <li>
          <def>Leg</def>
          <customLabel>rear left leg</customLabel>
          <coverage>0.08</coverage>
          <groups>
            <li>Legs</li>
          </groups>
        </li>
        <li>
          <def>Leg</def>
          <customLabel>rear right leg</customLabel>
          <coverage>0.08</coverage>
          <groups>
            <li>Legs</li>
          </groups>
        </li>
        <li>
          <def>Tail</def>
          <coverage>0.05</coverage>
        </li>
      </parts>
    </corePart>
  </BodyDef>

  <!-- ============================================== -->
  <!-- 龙族投射物 -->
  <!-- ============================================== -->
  <ThingDef ParentName="BaseBullet">
    <defName>Sideria_Projectile_RadiantBreath</defName>
    <label>sacred breath</label>
    <graphicData>
      <texPath>Things/Projectile/Bullet_Big</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <color>(255, 220, 100)</color>
      <drawSize>1.5</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Flame</damageDef>
      <damageAmountBase>18</damageAmountBase>
      <speed>60</speed>
      <ai_IsIncendiary>true</ai_IsIncendiary>
    </projectile>
  </ThingDef>

  <ThingDef ParentName="BaseBullet">
    <defName>Sideria_Projectile_MechaCannon</defName>
    <label>mecha cannon shot</label>
    <graphicData>
      <texPath>Things/Projectile/Charge_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <color>(100, 255, 255)</color>
      <drawSize>1.5</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Bomb</damageDef>
      <damageAmountBase>25</damageAmountBase>
      <speed>80</speed>
      <explosionRadius>1.9</explosionRadius>
    </projectile>
  </ThingDef>

  <!-- ============================================== -->
  <!-- 基础灵龙 ThingDef -->
  <!-- ============================================== -->
  <ThingDef Name="Sideria_SpiritDragonBase" Abstract="True" ParentName="AnimalThingBase">
    <statBases>
      <MoveSpeed>8.0</MoveSpeed>
      <ComfyTemperatureMin>-100</ComfyTemperatureMin>
      <ComfyTemperatureMax>250</ComfyTemperatureMax>
      <MarketValue>0</MarketValue>
      <ArmorRating_Sharp>0.50</ArmorRating_Sharp>
      <ArmorRating_Blunt>0.40</ArmorRating_Blunt>
      <ArmorRating_Heat>0.80</ArmorRating_Heat>
      <Wildness>0.0</Wildness>
    </statBases>
    <uiIconScale>1.5</uiIconScale>
    <race>
      <body>Sideria_DragonBody</body>
      <renderTree>Sideria_SingleImage_RenderTree</renderTree>
      <baseBodySize>4.0</baseBodySize>
      <baseHealthScale>5.0</baseHealthScale>
      <baseHungerRate>0</baseHungerRate>
      <foodType>None</foodType>
      <predator>false</predator>
      <lifeExpectancy>1000</lifeExpectancy>
      <gestationPeriodDays>10</gestationPeriodDays>
      <lifeStageAges>
        <li>
          <def>AnimalAdult</def>
          <minAge>0</minAge>
        </li>
      </lifeStageAges>
      <trainability>None</trainability>
      <fleshType>Normal</fleshType>
      <manhunterOnDamageChance>0</manhunterOnDamageChance>
      <manhunterOnTameFailChance>0</manhunterOnTameFailChance>
      <intelligence>Animal</intelligence>
    </race>
    <comps>
      <li Class="CompProperties_Forbiddable"/>
      <li Class="TheSecondSeat.CompProperties_DraftableDragon"/>
      <li Class="TheSecondSeat.CompProperties_NarratorEntity">
        <disableSlaughter>true</disableSlaughter>
        <disableRelease>true</disableRelease>
        <hideTrainingTab>true</hideTrainingTab>
        <forceShowDraftGizmo>true</forceShowDraftGizmo>
      </li>
    </comps>
  </ThingDef>

  <!-- ============================================== -->
  <!-- 血棘龙 BloodThorn Dragon -->
  <!-- ============================================== -->
  <ThingDef ParentName="Sideria_SpiritDragonBase">
    <defName>Sideria_SpiritDragon_BloodThorn</defName>
    <label>blood thorn dragon</label>
    <description>A ferocious spirit dragon summoned from the realm beyond, wreathed in crimson thorns and filled with primal rage. The blood thorn dragon excels at shredding enemies with its razor-sharp claws and thorn-covered body.</description>
    <graphicData>
      <texPath>Sideria/Narrators/Descent/Dragon/BloodThorn</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(4,4)</drawSize>
    </graphicData>
    <statBases>
      <MeleeDPS>28</MeleeDPS>
      <MeleeHitChance>0.95</MeleeHitChance>
    </statBases>
    <race>
      <baseHealthScale>4.5</baseHealthScale>
    </race>
    <comps>
      <li Class="TheSecondSeat.CompProperties_EnsureHediff">
        <hediffDef>Sideria_BloodThorn_CrimsonRage</hediffDef>
      </li>
    </comps>
    <tools>
      <li>
        <label>thorn claws</label>
        <capacities>
          <li>Scratch</li>
        </capacities>
        <power>35</power>
        <cooldownTime>1.2</cooldownTime>
        <linkedBodyPartsGroup>Legs</linkedBodyPartsGroup>
      </li>
      <li>
        <label>fanged maw</label>
        <capacities>
          <li>Bite</li>
        </capacities>
        <power>45</power>
        <cooldownTime>2.0</cooldownTime>
        <linkedBodyPartsGroup>Teeth</linkedBodyPartsGroup>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>20</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>thorn tail</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>30</power>
        <cooldownTime>1.5</cooldownTime>
      </li>
    </tools>
  </ThingDef>

  <!-- ============================================== -->
  <!-- 煌耀龙 Radiant Dragon -->
  <!-- ============================================== -->
  <ThingDef ParentName="Sideria_SpiritDragonBase">
    <defName>Sideria_SpiritDragon_Radiant</defName>
    <label>radiant dragon</label>
    <description>A majestic spirit dragon summoned from the realm beyond, radiating brilliant golden light. The radiant dragon combines devastating breath attacks with incredible resilience, burning enemies with sacred flame.</description>
    <graphicData>
      <texPath>Sideria/Narrators/Descent/Dragon/Radiant</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(4,4)</drawSize>
    </graphicData>
    <statBases>
      <MeleeDPS>24</MeleeDPS>
      <MeleeHitChance>0.90</MeleeHitChance>
      <ArmorRating_Sharp>0.60</ArmorRating_Sharp>
      <ArmorRating_Blunt>0.50</ArmorRating_Blunt>
    </statBases>
    <race>
      <baseHealthScale>6.0</baseHealthScale>
    </race>
    <comps>
      <li Class="TheSecondSeat.CompProperties_EnsureHediff">
        <hediffDef>Sideria_Radiant_SacredRebirth</hediffDef>
      </li>
    </comps>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Sideria_Projectile_RadiantBreath</defaultProjectile>
        <warmupTime>1.5</warmupTime>
        <range>22.9</range>
        <ticksBetweenBurstShots>12</ticksBetweenBurstShots>
        <burstShotCount>3</burstShotCount>
        <soundCast>Shot_IncendiaryLauncher</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>12</muzzleFlashScale>
        <label>sacred breath</label>
        <commonality>0.8</commonality>
      </li>
    </verbs>
    <tools>
      <li>
        <label>radiant claws</label>
        <capacities>
          <li>Scratch</li>
        </capacities>
        <power>28</power>
        <cooldownTime>1.0</cooldownTime>
        <linkedBodyPartsGroup>Legs</linkedBodyPartsGroup>
        <extraMeleeDamages>
          <li>
            <def>Flame</def>
            <amount>10</amount>
          </li>
        </extraMeleeDamages>
      </li>
      <li>
        <label>sacred maw</label>
        <capacities>
          <li>Bite</li>
        </capacities>
        <power>40</power>
        <cooldownTime>2.2</cooldownTime>
        <linkedBodyPartsGroup>Teeth</linkedBodyPartsGroup>
        <extraMeleeDamages>
          <li>
            <def>Flame</def>
            <amount>15</amount>
          </li>
        </extraMeleeDamages>
      </li>
      <li>
        <label>luminous tail</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>25</power>
        <cooldownTime>1.5</cooldownTime>
      </li>
    </tools>
  </ThingDef>

  <!-- ============================================== -->
  <!-- 机铠龙 Mecha Dragon -->
  <!-- ============================================== -->
  <ThingDef ParentName="Sideria_SpiritDragonBase">
    <defName>Sideria_SpiritDragon_Mecha</defName>
    <label>mecha dragon</label>
    <description>A formidable spirit dragon summoned from the realm beyond, encased in advanced mechanical armor. The mecha dragon integrates ancient spirit power with futuristic technology, unleashing devastating firepower.</description>
    <graphicData>
      <texPath>Sideria/Narrators/Descent/Dragon/Mecha</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(4,4)</drawSize>
    </graphicData>
    <statBases>
      <MeleeDPS>26</MeleeDPS>
      <MeleeHitChance>0.92</MeleeHitChance>
      <ArmorRating_Sharp>0.70</ArmorRating_Sharp>
      <ArmorRating_Blunt>0.60</ArmorRating_Blunt>
      <ArmorRating_Heat>0.50</ArmorRating_Heat>
    </statBases>
    <race>
      <baseHealthScale>5.5</baseHealthScale>
    </race>
    <comps>
      <li Class="TheSecondSeat.CompProperties_EnsureHediff">
        <hediffDef>Sideria_Mecha_OmniFire</hediffDef>
      </li>
    </comps>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Sideria_Projectile_MechaCannon</defaultProjectile>
        <warmupTime>2.0</warmupTime>
        <range>30.9</range>
        <ticksBetweenBurstShots>10</ticksBetweenBurstShots>
        <burstShotCount>6</burstShotCount>
        <soundCast>Shot_ChargeBlaster</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
        <label>mecha cannon</label>
        <commonality>1.0</commonality>
      </li>
    </verbs>
    <tools>
      <li>
        <label>mecha claws</label>
        <capacities>
          <li>Scratch</li>
        </capacities>
        <power>30</power>
        <cooldownTime>1.1</cooldownTime>
        <linkedBodyPartsGroup>Legs</linkedBodyPartsGroup>
      </li>
      <li>
        <label>crushing jaws</label>
        <capacities>
          <li>Bite</li>
        </capacities>
        <power>42</power>
        <cooldownTime>2.1</cooldownTime>
        <linkedBodyPartsGroup>Teeth</linkedBodyPartsGroup>
      </li>
      <li>
        <label>steel tail</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>28</power>
        <cooldownTime>1.5</cooldownTime>
      </li>
    </tools>
  </ThingDef>

  <!-- ============================================== -->
  <!-- PawnKindDef 定义 -->
  <!-- ============================================== -->
  
  <!-- 血棘龙 PawnKind -->
  <PawnKindDef>
    <defName>Sideria_SpiritDragon_BloodThorn_Kind</defName>
    <label>blood thorn dragon</label>
    <race>Sideria_SpiritDragon_BloodThorn</race>
    <combatPower>500</combatPower>
    <canArriveManhunter>false</canArriveManhunter>
    <lifeStages>
      <li>
        <label>blood thorn dragon</label>
        <bodyGraphicData>
          <texPath>Sideria/Narrators/Descent/Dragon/BloodThorn</texPath>
          <graphicClass>Graphic_Single</graphicClass>
          <drawSize>(4,4)</drawSize>
        </bodyGraphicData>
      </li>
    </lifeStages>
  </PawnKindDef>

  <!-- 煌耀龙 PawnKind -->
  <PawnKindDef>
    <defName>Sideria_SpiritDragon_Radiant_Kind</defName>
    <label>radiant dragon</label>
    <race>Sideria_SpiritDragon_Radiant</race>
    <combatPower>550</combatPower>
    <canArriveManhunter>false</canArriveManhunter>
    <lifeStages>
      <li>
        <label>radiant dragon</label>
        <bodyGraphicData>
          <texPath>Sideria/Narrators/Descent/Dragon/Radiant</texPath>
          <graphicClass>Graphic_Single</graphicClass>
          <drawSize>(4,4)</drawSize>
        </bodyGraphicData>
      </li>
    </lifeStages>
  </PawnKindDef>

  <!-- 机铠龙 PawnKind -->
  <PawnKindDef>
    <defName>Sideria_SpiritDragon_Mecha_Kind</defName>
    <label>mecha dragon</label>
    <race>Sideria_SpiritDragon_Mecha</race>
    <combatPower>580</combatPower>
    <canArriveManhunter>false</canArriveManhunter>
    <lifeStages>
      <li>
        <label>mecha dragon</label>
        <bodyGraphicData>
          <texPath>Sideria/Narrators/Descent/Dragon/Mecha</texPath>
          <graphicClass>Graphic_Single</graphicClass>
          <drawSize>(4,4)</drawSize>
        </bodyGraphicData>
      </li>
    </lifeStages>
  </PawnKindDef>

  <!-- 兼容旧定义的通用 PawnKind（随机选择一种龙） -->
  <PawnKindDef>
    <defName>Sideria_SpiritDragon_Kind</defName>
    <label>spirit dragon</label>
    <race>Sideria_SpiritDragon_BloodThorn</race>
    <combatPower>525</combatPower>
    <canArriveManhunter>false</canArriveManhunter>
    <lifeStages>
      <li>
        <label>spirit dragon</label>
        <bodyGraphicData>
          <texPath>Sideria/Narrators/Descent/Dragon/BloodThorn</texPath>
          <graphicClass>Graphic_Single</graphicClass>
          <drawSize>(4,4)</drawSize>
        </bodyGraphicData>
      </li>
    </lifeStages>
  </PawnKindDef>
</Defs>
