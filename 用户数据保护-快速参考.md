# 用户数据保护 - 快速参考

## ??? 保护的内容

### 人格数据
```
? Defs\NarratorPersonaDefs\CustomPersona_*.xml
```

### 立绘文件
```
? Textures\UI\Narrators\Avatars\*\custom_*.*
? Textures\UI\Narrators\Avatars\CustomPersona_*\*.*
```

---

## ?? 快速部署

### 保护模式（推荐）
```powershell
.\Deploy-Animation-System.ps1
```
**结果：** 用户数据完整保留 ?

### 完全覆盖（慎用）
```powershell
.\Deploy-Animation-System.ps1 -ProtectUserData:$false
```
**警告：** 会删除所有用户数据 ??

---

## ?? 部署输出

### 保护模式示例
```
? 已备份: CustomPersona_2bc3dc98.xml
? 已备份立绘: custom_base.png
? 跳过受保护的文件: 2 个
? 已恢复: CustomPersona_2bc3dc98.xml
```

---

## ?? 验证保护

```powershell
# 检查人格
Get-ChildItem "...\Defs\NarratorPersonaDefs\CustomPersona_*.xml"

# 检查立绘
Get-ChildItem "...\Textures\UI\Narrators\Avatars\*\custom_*.*"
```

---

## ?? 命名规范

### 受保护
```
? CustomPersona_*.xml
? custom_*.*
? CustomPersona_*/
```

### 不受保护
```
? MyPersona.xml
? my_base.png
```

---

## ?? 使用建议

| 场景 | 命令 | 保护 |
|------|------|------|
| 日常更新 | `.\Deploy-Animation-System.ps1` | ? |
| 测试环境 | `.\Deploy-Animation-System.ps1` | ? |
| 完全重置 | `.\Deploy-Animation-System.ps1 -ProtectUserData:$false` | ? |

---

**快速参考完成！** ???

_The Second Seat Mod Team_
