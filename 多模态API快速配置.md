# 多模态 API 分析 - 5分钟快速配置

## ?? 三步启用

### 步骤 1：获取 API Key

#### 选项 A：Gemini（推荐新手 - 免费）
```
1. 访问：https://makersuite.google.com/app/apikey
2. 登录 Google 账号
3. 点击"Create API Key"
4. 复制 Key
```
? **免费**（每天 1500 次请求）  
? **速度快**（1-3秒）  
?? **需要科学上网**

---

#### 选项 B：DeepSeek（推荐国内 - 极便宜）
```
1. 访问：https://platform.deepseek.com/
2. 注册（支持国内手机号）
3. 充值 ?10（可用很久）
4. 创建 API Key
```
?? **超便宜**（单次 ?0.01）  
???? **国内访问快**  
?? **手机号即可注册**

---

#### 选项 C：OpenAI（追求极致质量）
```
1. 访问：https://platform.openai.com/api-keys
2. 登录/注册
3. 绑定信用卡（需要国外卡）
4. 创建 API Key
```
?? **最准确**  
?? **稍贵**（单次 $0.05）  
?? **需要科学上网**

---

### 步骤 2：配置模组

1. 打开 RimWorld
2. **选项** → **模组设置** → **The Second Seat**
3. 找到"多模态人格分析设置"
4. 勾选 ? **"启用多模态分析"**
5. 选择提供商：
   - Gemini → 输入 API Key
   - DeepSeek → 输入 API Key
   - OpenAI → 输入 API Key
6. 点击 **"应用"**

---

### 步骤 3：使用分析

1. 游戏内打开 **AI 窗口**
2. 点击 **"切换人格"**
3. 选择任意人格
4. 点击 **"使用 API 分析"**
5. 等待 5-10 秒
6. 查看分析结果并应用

---

## ?? 提供商对比速查表

| 特性 | Gemini | DeepSeek | OpenAI |
|-----|--------|---------|--------|
| **价格** | 免费 | ?0.01/次 | $0.05/次 |
| **速度** | ??? 最快 | ?? 快 | ? 较快 |
| **准确度** | ??? 好 | ???? 很好 | ????? 最好 |
| **注册** | Google 账号 | 国内手机号 | 国外信用卡 |
| **网络** | 需科学上网 | 国内直连 | 需科学上网 |
| **免费额度** | 1500次/天 | 无 | 无 |
| **推荐场景** | 个人测试 | 频繁使用 | 追求极致 |

---

## ?? 默认模型名称

### Gemini
```
Vision Model: gemini-pro-vision
Text Model: gemini-pro
```

### DeepSeek
```
Vision Model: deepseek-vl
Text Model: deepseek-chat
```

### OpenAI
```
Vision Model: gpt-4-vision-preview
Text Model: gpt-4-turbo
```

**留空即使用默认模型**

---

## ?? 常见问题

### Q: API Key 放哪里？
A: 模组设置 → "多模态人格分析设置" → "API Key" 文本框

### Q: 需要填模型名称吗？
A: 不需要！留空会自动使用默认模型

### Q: 支持本地 LLM 吗？
A: 暂不支持。本地 LLM 通常不支持多模态（图像输入）

### Q: 分析结果不准确怎么办？
A: 
1. 尝试其他提供商（OpenAI 通常最准）
2. 优化简介文本（添加明确关键词）
3. 使用本地分析作为对比

### Q: 分析失败了怎么办？
A: 系统会自动回退到本地分析（基于颜色和关键词）

### Q: 可以离线使用吗？
A: API 分析需要联网。但本地分析无需联网。

---

## ?? 测试配置

配置完成后，建议测试：

```
1. 选择"Cassandra Classic"
2. 点击"使用 API 分析"
3. 应该返回：
   - 人格：Strategic
   - 主色调：blue, gray
   - 情绪：professional, authoritative
4. 如果成功，说明配置正确！
```

---

## ?? 配置模板

### Gemini 配置
```
启用多模态分析：?
AI 提供商：Gemini
API Key：YOUR_GEMINI_API_KEY
视觉模型：（留空）
文本分析模型：（留空）
```

### DeepSeek 配置
```
启用多模态分析：?
AI 提供商：DeepSeek
API Key：YOUR_DEEPSEEK_API_KEY
视觉模型：（留空）
文本分析模型：（留空）
```

### OpenAI 配置
```
启用多模态分析：?
AI 提供商：OpenAI
API Key：sk-...YOUR_KEY...
视觉模型：（留空）
文本分析模型：（留空）
```

---

## ?? 下一步

- ?? 阅读完整指南：[多模态API分析指南.md](多模态API分析指南.md)
- ?? 创建自定义人格：[人格生成系统指南.md](人格生成系统指南.md)
- ?? 查看预设人格：游戏内"切换人格"窗口

---

**提示**：首次使用建议选择 **Gemini**，完全免费且速度快！

?? **5分钟配置完成，立即体验 AI 驱动的人格分析！** ?
