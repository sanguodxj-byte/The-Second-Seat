# ?? 双难度模式 - 立即部署指南

## ? 代码100%完成

所有代码修改已完成：
- ? `AIDifficultyMode.cs` - 难度模式枚举
- ? `SystemPromptGenerator.cs` - 系统提示词修改
- ? `ModSettings.cs` - 设置UI和存档
- ? `NarratorManager.cs` - 调用点集成
- ? `PortraitLoader.cs` - 立绘加载优化

---

## ?? 立即部署（3步完成）

### 方法1：双击批处理文件（最简单）

1. **找到文件**：`部署.bat`
2. **双击运行**
3. **等待完成**

就这么简单！

---

### 方法2：PowerShell命令

打开PowerShell，粘贴以下内容：

```powershell
cd "C:\Users\Administrator\Desktop\rim mod\The Second Seat\Source\TheSecondSeat"
dotnet build -c Release
Copy-Item "bin\Release\net472\TheSecondSeat.dll" -Destination "D:\steam\steamapps\common\RimWorld\Mods\TheSecondSeat\Assemblies\TheSecondSeat.dll" -Force
Write-Host "? 部署完成！" -ForegroundColor Green
```

---

## ?? 游戏内验证

### 1. 启动游戏
重启RimWorld（完全关闭再打开）

### 2. 检查设置
**选项 → 模组设置 → The Second Seat**

应该看到：

```
基础设置
  ? 调试模式
  ? 启用好感度系统

━━━━━━━━━━━━━━━━━━━━━━━

AI难度模式
  ○ 助手模式 - 无条件支持，主动建议
     AI将忠实执行所有指令，主动提供建议帮助殖民地发展。
     适合新手或希望轻松体验的玩家。
  
  ○ 对弈者模式 - 挑战平衡，事件控制
     AI通过事件生成器考验你的策略，好感度影响事件难度。
     适合寻求挑战的玩家。极低好感度时可能拒绝指令。
```

### 3. 快速测试

#### 测试助手模式
1. 选择"助手模式"
2. 应用设置
3. 进入游戏
4. 发送任意指令
5. **预期**：AI执行并主动提供建议

#### 测试对弈者模式  
1. 选择"对弈者模式"
2. 应用设置
3. 打开调试窗口（F12 → The Second Seat Debug）
4. 修改好感度到-80
5. 发送指令："删除所有资源"
6. **预期**：AI拒绝并回复"I cannot support this decision."

---

## ?? 两种模式对比

| 特性 | 助手模式 | 对弈者模式 |
|------|---------|-----------|
| **永不拒绝** | ? 是 | ? 否（<-70会拒绝） |
| **主动建议** | ? 是 | ? 否 |
| **事件控制** | ? 否 | ? 是 |
| **好感影响** | 情感表达 | 事件难度+拒绝率 |

---

## ?? 故障排除

### 问题：看不到难度模式选项
**解决**：
1. 检查DLL是否最新（文件修改时间）
2. 完全重启游戏
3. 确认模组已启用

### 问题：编译失败
**解决**：
```powershell
cd "C:\Users\Administrator\Desktop\rim mod\The Second Seat\Source\TheSecondSeat"
dotnet build -c Release 2>&1 | Select-String "error"
```
查看具体错误。

---

## ? 完成清单

- [ ] 双击运行 `部署.bat`
- [ ] 看到"完成！"
- [ ] 重启RimWorld
- [ ] 检查模组设置
- [ ] 看到难度模式选项
- [ ] 测试助手模式
- [ ] 测试对弈者模式

---

## ?? 总结

**代码状态**：? 100%完成  
**部署方式**：双击 `部署.bat`  
**预计时间**：2分钟  
**难度**：?（超简单）

**双难度模式已完全实现！立即双击 `部署.bat` 开始使用！** ??

---

**创建时间**: 2025-01-15  
**版本**: Final v2.0  
**状态**: ? 准备部署
