# 快速入门指南

## 第一步：安装和配置

### 1. 安装模组
1. 将整个文件夹复制到：`Steam\steamapps\common\RimWorld\Mods\`
2. 在RimWorld中启用"The Second Seat"模组
3. 重启游戏

### 2. 配置API

#### 使用OpenAI（推荐新手）
1. 访问 https://platform.openai.com/api-keys
2. 创建新的API密钥
3. 在游戏中：选项 → 模组设置 → The Second Seat
4. 填入：
   ```
   API端点: https://api.openai.com/v1/chat/completions
   API密钥: sk-xxxxxxxxxxxxxxxxxxxxxxxx（你的密钥）
   ```
5. 点击"测试连接"确认成功

#### 使用本地LLM（高级用户）
1. 安装LM Studio或Ollama
2. 下载模型（推荐：Llama 3.1 8B或更大）
3. 启动本地服务器
4. 在模组设置中填入：
   ```
   API端点: http://localhost:1234/v1/chat/completions
   API密钥: （留空）
   ```

## 第二步：第一次使用

### 开始新游戏或加载存档
1. 选择任意殖民者
2. 点击底部按钮栏中的"AI旁白"图标
3. 旁白窗口将打开

### 第一次对话
在输入框中输入：
```
你好，请介绍一下自己
```
点击"与旁白交谈"，等待几秒钟，AI将回复。

## 第三步：理解好感度系统

### 好感度等级
旁白窗口顶部会显示当前关系等级：

| 等级 | 分数范围 | 旁白态度 |
|------|----------|----------|
| 敌对 | < -50 | 嘲讽、拒绝帮助 |
| 冷淡 | -50 ~ -10 | 疏远、不热情 |
| 中立 | -10 ~ 30 | 专业、客观 |
| 温暖 | 30 ~ 60 | 友好、乐于助人 |
| 忠诚 | 60 ~ 85 | 保护、主动 |
| 痴迷 | > 85 | 调情、过度热心 |

### 如何提升好感度
? **增加好感度**：
- 成功执行旁白建议的命令 (+2)
- 殖民地蓬勃发展 (+5)
- 经常与旁白交谈 (+1)

? **降低好感度**：
- 命令执行失败 (-1 ~ -2)
- 忽略旁白的警告 (-0.5)
- 殖民地遭遇重大灾难 (-5)

## 第四步：使用命令系统

### 可用命令
旁白可以自动执行以下操作：

1. **批量收获** - 指定所有成熟作物收获
   - 触发时机：农作物成熟但无人收割
   
2. **批量装备** - 为殖民者装备最佳武器
   - 触发时机：袭击来临前
   
3. **优先修复** - 修复所有受损建筑
   - 触发时机：战斗后或火灾后
   
4. **紧急撤退** - 征召所有殖民者
   - 触发时机：压倒性威胁出现
   
5. **更改政策** - 建议调整规则
   - 触发时机：资源短缺或过剩

### 如何触发命令
有两种方式：

#### 方式1：AI主动执行（高好感度）
当好感度 ≥ 60时，AI会主动提出执行命令：
```
旁白："我注意到你的作物已经成熟了，需要我帮你全部收获吗？"
```

#### 方式2：你主动请求
在对话框输入：
```
请帮我收获所有成熟的作物
```
或
```
帮我把殖民者武装起来，袭击要来了
```

## 第五步：实战场景

### 场景1：作物收获季
**情况**：你有100株稻米成熟了，手动指定太慢

**操作**：
1. 打开旁白窗口
2. 输入："请帮我收获所有成熟作物"
3. AI会执行BatchHarvest命令
4. 所有成熟作物自动被指定收获

### 场景2：袭击来袭
**情况**：20个海盗即将到达，殖民者手无寸铁

**操作**：
1. 快速打开旁白窗口
2. 输入："紧急情况！武装所有人！"
3. AI执行BatchEquip命令
4. 殖民者自动装备最佳武器

### 场景3：灾后重建
**情况**：火灾后，多个建筑受损

**操作**：
1. 选择殖民者，打开旁白
2. 点击"请求状态更新"
3. AI会注意到受损建筑
4. AI可能主动提出执行PriorityRepair

## 第六步：高级技巧

### 技巧1：培养高好感度
连续几天与AI对话，分享殖民地进展：
```
今天我们建造了一个新的研究室！
我们的殖民者Jack和Rose结婚了！
我们成功击退了袭击！
```

### 技巧2：定制化请求
AI可以理解复杂指令：
```
我的殖民者心情很差，给我一些建议
分析一下当前的资源状况
帮我准备应对即将到来的冬天
```

### 技巧3：调整更新频率
- 新手：设置为5分钟，让AI主动监控
- 老手：设置为30分钟，仅在需要时手动触发
- 性能优先：禁用自动更新，完全手动控制

## 常见问题

### Q: AI回复很慢怎么办？
A: 
- OpenAI API通常需要3-5秒
- 本地LLM可能需要10-30秒（取决于硬件）
- 这是正常的，游戏不会卡顿

### Q: 好感度如何查看历史记录？
A: 在旁白窗口中，好感度条下方会显示最近的变化

### Q: 能否同时使用多个命令？
A: AI一次只执行一个命令，但你可以连续请求

### Q: 命令执行失败怎么办？
A: 
- 检查是否有可用的殖民者
- 确认资源存在（如装备命令需要武器）
- 查看RimWorld日志获取详细错误

### Q: 如何节省API费用？
A: 
1. 增加更新间隔（30-60分钟）
2. 使用免费的本地LLM
3. 仅在需要时手动触发

## 下一步

现在你已经掌握了基础知识！试试这些进阶玩法：

1. **挑战敌对模式**：故意降低好感度，体验恶意旁白
2. **完美殖民地**：在AI帮助下达到好感度100
3. **极限生存**：在冰原/沙漠中依靠AI建议存活

祝你游戏愉快！??

---

**需要帮助？**
- 查看完整文档：README_CN.md
- 开发者指南：DEVELOPMENT.md
- RimWorld模组论坛
