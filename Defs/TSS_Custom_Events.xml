<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!-- ========================================== -->
  <!-- TSS 自定义事件库 - 测试事件集合 -->
  <!-- The Second Seat - Custom Events -->
  <!-- ========================================== -->
  
  <!-- ==================== 事件一：见面礼 ==================== -->
  <TheSecondSeat.Framework.NarratorEventDef>
    <defName>TSS_Event_WelcomeGift</defName>
    <eventLabel>神的馈赠</eventLabel>
    <eventDescription>Sideria 赐予玩家起始资金，作为建立殖民地的礼物</eventDescription>
    <category>Reward</category>
    <priority>10</priority>
    
    <!-- 触发条件（留空表示手动触发或测试） -->
    <triggers></triggers>
    
    <!-- 动作链 -->
    <actions>
      <!-- 1. 显示对话 -->
      <li Class="TheSecondSeat.Framework.Actions.ShowDialogueAction">
        <dialogueText>凡人，这是我赐予你的起始资金...好好利用它建立你的殖民地吧。</dialogueText>
        <messageType>PositiveEvent</messageType>
      </li>
      
      <!-- 2. 生成白银 -->
      <li Class="TheSecondSeat.Framework.Actions.SpawnResourceAction">
        <resourceType>Silver</resourceType>
        <amount>500</amount>
        <dropNearPlayer>true</dropNearPlayer>
      </li>
      
      <!-- 3. 增加好感度 -->
      <li Class="TheSecondSeat.Framework.Actions.ModifyAffinityAction">
        <delta>10</delta>
        <reason>接受馈赠</reason>
      </li>
    </actions>
    
    <!-- 通知设置 -->
    <showNotification>true</showNotification>
    <customNotificationText>? Sideria 赐予了你礼物！</customNotificationText>
  </TheSecondSeat.Framework.NarratorEventDef>
  
  <!-- ==================== 事件二：神罚 ==================== -->
  <TheSecondSeat.Framework.NarratorEventDef>
    <defName>TSS_Event_DivineWrath</defName>
    <eventLabel>神的愤怒</eventLabel>
    <eventDescription>惹怒神明的后果 - 雷霆降罚</eventDescription>
    <category>Punishment</category>
    <priority>70</priority>
    
    <!-- 触发条件（留空表示手动触发或测试） -->
    <triggers></triggers>
    
    <!-- 动作链 -->
    <actions>
      <!-- 1. Sideria 语音警告 -->
      <li Class="TheSecondSeat.Framework.Actions.NarratorSpeakAction">
        <text>竟敢挑战神的威严？感受雷霆的愤怒吧！</text>
        <personaDefName>Sideria_Default</personaDefName>
        <showDialogue>true</showDialogue>
      </li>
      
      <!-- 2. 降下雷罚（延迟2秒） -->
      <li Class="TheSecondSeat.Framework.Actions.StrikeLightningAction">
        <delayTicks>120</delayTicks>
        <strikeMode>Random</strikeMode>
        <strikeCount>3</strikeCount>
        <damageAmount>20</damageAmount>
        <radius>3</radius>
        <causesFire>true</causesFire>
      </li>
      
      <!-- 3. 给殖民者施加食物中毒（延迟2秒） -->
      <li Class="TheSecondSeat.Framework.Actions.GiveHediffAction">
        <delayTicks>120</delayTicks>
        <hediffDef>FoodPoisoning</hediffDef>
        <severity>0.5</severity>
        <targetMode>Random</targetMode>
        <targetCount>1</targetCount>
        <showNotification>true</showNotification>
      </li>
      
      <!-- 4. 扣除好感度 -->
      <li Class="TheSecondSeat.Framework.Actions.ModifyAffinityAction">
        <delayTicks>120</delayTicks>
        <delta>-20</delta>
        <reason>惹怒神明</reason>
      </li>
    </actions>
    
    <!-- 通知设置 -->
    <showNotification>true</showNotification>
    <customNotificationText>? 神的愤怒降临！</customNotificationText>
  </TheSecondSeat.Framework.NarratorEventDef>
  
  <!-- ==================== 事件三：机械测试 ==================== -->
  <TheSecondSeat.Framework.NarratorEventDef>
    <defName>TSS_Event_MechRaid</defName>
    <eventLabel>敌袭警报</eventLabel>
    <eventDescription>Sideria 检测到敌对信号并发出警告</eventDescription>
    <category>Challenge</category>
    <priority>50</priority>
    
    <!-- 触发条件（留空表示手动触发或测试） -->
    <triggers></triggers>
    
    <!-- 动作链 -->
    <actions>
      <!-- 1. Sideria 语音警告 -->
      <li Class="TheSecondSeat.Framework.Actions.NarratorSpeakAction">
        <text>检测到敌对信号反应。准备迎敌，凡人。</text>
        <personaDefName>Sideria_Default</personaDefName>
        <showDialogue>true</showDialogue>
      </li>
      
      <!-- 2. 播放警报音效（延迟1秒） -->
      <li Class="TheSecondSeat.Framework.Actions.PlaySoundAction">
        <delayTicks>60</delayTicks>
        <sound>PsychicPulseGlobal</sound>
      </li>
      
      <!-- 3. 强制触发敌袭（延迟5秒） -->
      <li Class="TheSecondSeat.Framework.Actions.StartIncidentAction">
        <delayTicks>300</delayTicks>
        <incidentDef>RaidEnemy</incidentDef>
        <points>500</points>
        <forced>true</forced>
      </li>
    </actions>
    
    <!-- 通知设置 -->
    <showNotification>true</showNotification>
    <customNotificationText>?? 敌袭警报！准备战斗！</customNotificationText>
  </TheSecondSeat.Framework.NarratorEventDef>
  
  <!-- ========================================== -->
  <!-- 使用说明 -->
  <!-- ========================================== -->
  <!-- 
  测试方法：
  1. 在游戏内按 F12 打开开发者控制台
  2. 使用 NarratorEventManager 触发事件
  
  示例命令（需要在 C# 代码中调用）：
  TheSecondSeat.Framework.NarratorEventManager.Instance.ForceTriggerEvent("TSS_Event_WelcomeGift");
  TheSecondSeat.Framework.NarratorEventManager.Instance.ForceTriggerEvent("TSS_Event_DivineWrath");
  TheSecondSeat.Framework.NarratorEventManager.Instance.ForceTriggerEvent("TSS_Event_MechRaid");
  
  事件说明：
  - TSS_Event_WelcomeGift: 友好事件，赠送资源并增加好感度
  - TSS_Event_DivineWrath: 惩罚事件，雷击+中毒+扣好感度
  - TSS_Event_MechRaid: 挑战事件，触发敌袭
  
  技术细节：
  - delayTicks: 延迟执行时间（60 ticks = 1 秒）
  - priority: 事件优先级（数值越高越优先）
  - category: 事件类别（Reward/Punishment/Challenge）
  -->
  
</Defs>
